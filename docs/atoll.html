<!DOCTYPE html>  <html> <head>   <title>atoll.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               atoll.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>atoll.js v0.6</p>

<p>Copyright 2011 Marcos A. Ojeda, generic.cx
Licensed under the MIT License</p>

<p>"Statistics are like bikinis.  What they reveal is suggestive, 
 but what they conceal is vital." -- Aaron Levenstein</p>

<p>Date: Mon Jun  6 17:05:58 EDT 2011</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">atoll</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
  </pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>utility functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>min and max take the min and max of an array</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">min</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arr</span><span class="p">);</span> <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arr</span><span class="p">);</span> <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>return the sample size, mostly for making code self documenting</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p><code>Sigma</code> is used to take sums on arrays without calling both map and reduce
each time, which can feel tedious (and could lead to error!)</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">Sigma</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">mapFunc</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">curr</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">arr</span><span class="p">){</span><span class="k">return</span> <span class="nx">prev</span><span class="o">+</span><span class="nx">curr</span><span class="p">;};</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>if no mapFunc is passed, the identity function is used</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">mapFunc</span><span class="p">){</span> <span class="nx">mapFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">return</span> <span class="nx">x</span><span class="p">;};</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">mapFunc</span><span class="p">).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">Pi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">mapFunc</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">prod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">curr</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">arr</span><span class="p">){</span><span class="k">return</span> <span class="nx">prev</span> <span class="o">*</span> <span class="nx">curr</span><span class="p">;};</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>if no mapFunc is passed, the identity function is used</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">mapFunc</span><span class="p">){</span> <span class="nx">mapFunc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span><span class="k">return</span> <span class="nx">x</span><span class="p">;};</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">mapFunc</span><span class="p">).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">prod</span><span class="p">);</span>
  <span class="p">};</span>
  
  </pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h2>Basic Stats functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Take the mean of a sample (the average, also known as the 
arithmetic mean)</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">mean</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">Sigma</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">/</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Take the geometric mean of a sample</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">meanGeo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span> <span class="nx">Pi</span><span class="p">(</span><span class="nx">arr</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">))</span> <span class="p">);</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Take the harmonic mean of a sample</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">meanHar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">n</span> <span class="o">/</span> <span class="nx">Sigma</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span> <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="nx">x</span><span class="p">);</span> <span class="p">});</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>The median is either the middle element in a sorted list <em>or</em>
the mean of its two middle elements if the list has even length</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">median</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">elts</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">sorted</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">;});</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Return the middle term in odd-length lists</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span><span class="nx">elts</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
      <span class="k">return</span> <span class="nx">sorted</span><span class="p">[((</span><span class="nx">elts</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)];</span> 
    <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Average the two middle terms for even-length lists</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">else</span><span class="p">{</span> 
      <span class="kd">var</span> <span class="nx">middle</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">.</span><span class="nx">slice</span><span class="p">((</span><span class="nx">elts</span><span class="o">/</span> <span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="nx">elts</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">mean</span><span class="p">(</span><span class="nx">middle</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Quartiles are calculated similar to the median. The second quartile <em>is</em> 
the median, and <code>q1</code>/<code>q3</code> are the medians of the lower/upper halves, respectively.</p>

<p>There are other methods for picking quartiles which you may be interested
in, see <a href="http://en.wikipedia.org/wiki/Quartile">wikipedia</a>. This function
uses the TI-83 Method.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">quartiles</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">sorted</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">-</span><span class="nx">b</span><span class="p">;});</span>
    <span class="kd">var</span> <span class="nx">elts</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Pick the two slice points, <code>c1</code>/<code>c2</code> for dividing the array</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">c1</span><span class="p">,</span><span class="nx">c2</span><span class="p">;</span> 
    <span class="k">if</span><span class="p">(</span><span class="nx">elts</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span> <span class="nx">c1</span> <span class="o">=</span> <span class="nx">elts</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="nx">c2</span> <span class="o">=</span> <span class="nx">elts</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span> <span class="nx">c1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">elts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">c2</span> <span class="o">=</span> <span class="nx">c1</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
    
    <span class="kd">var</span> <span class="nx">q1</span> <span class="o">=</span> <span class="nx">median</span><span class="p">(</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">c1</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">q2</span> <span class="o">=</span> <span class="nx">median</span><span class="p">(</span><span class="nx">sorted</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">q3</span> <span class="o">=</span> <span class="nx">median</span><span class="p">(</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">c2</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">iqr</span> <span class="o">=</span> <span class="nx">q3</span><span class="o">-</span><span class="nx">q1</span><span class="p">;</span>
    </pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>These are outlier cutoff points</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">lowerFence</span> <span class="o">=</span> <span class="nx">q1</span> <span class="o">-</span> <span class="p">(</span><span class="mf">1.5</span> <span class="o">*</span> <span class="nx">iqr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">upperFence</span> <span class="o">=</span> <span class="nx">q3</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.5</span> <span class="o">*</span> <span class="nx">iqr</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s2">&quot;q1&quot;</span><span class="o">:</span><span class="nx">q1</span><span class="p">,</span> <span class="s2">&quot;q2&quot;</span><span class="o">:</span><span class="nx">q2</span><span class="p">,</span> <span class="s2">&quot;q3&quot;</span><span class="o">:</span><span class="nx">q3</span><span class="p">,</span> <span class="s2">&quot;iqr&quot;</span><span class="o">:</span><span class="nx">iqr</span><span class="p">,</span> 
      <span class="s2">&quot;lowerFence&quot;</span><span class="o">:</span><span class="nx">lowerFence</span><span class="p">,</span> <span class="s2">&quot;upperFence&quot;</span><span class="o">:</span><span class="nx">upperFence</span> <span class="p">};</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Central Moments are useful for characterizing the nature of a sample. 
They are used to derive variance, skewness and kurtosis. You can learn
more at <a href="http://en.wikipedia.org/wiki/Central_moment">wikipedia</a> and
<a href="http://mathworld.wolfram.com/SampleCentralMoment.html">Mathworld</a>.</p>

<p>This is technically a Sample Central Moment (or assumed to be)</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">centralMoment</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">k</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">k</span> <span class="o">===</span> <span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="mi">1</span><span class="p">;}</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="nx">k</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">xbar</span> <span class="o">=</span> <span class="nx">mean</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">Sigma</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x_k</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">x_k</span> <span class="o">-</span> <span class="nx">xbar</span><span class="p">),</span> <span class="nx">k</span><span class="p">);</span> <span class="p">})</span> <span class="o">/</span> <span class="nx">n</span><span class="p">;</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h2>Variance &amp; Standard Deviation</h2>

<p>There are two implementations for variance and standard deviation. 
The normally named functions (i.e. <code>variance</code>, <code>stdDev</code>, etc) use
the two-pass algorithm which may be inadequate for data which is
aggerssively mean-clustered. For more information about this, see 
<a href="http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance#Two-pass_algorithm">wikipedia</a></p>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>These two functions calculate variance in the same way that it is
defined mathematically (without expanding/simplifying the sum), so
they also use the same notation as much as is possible.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">variancePop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">mu</span> <span class="o">=</span> <span class="nx">mean</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">N</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">Sigma</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x_i</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">x_i</span> <span class="o">-</span> <span class="nx">mu</span><span class="p">),</span> <span class="mi">2</span><span class="p">);</span> <span class="p">})</span> <span class="o">/</span> <span class="nx">N</span><span class="p">;</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Calculates the variance for a sample using the traditional formula.
Both variance and standard deviation, use this formula.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">variance</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">xbar</span> <span class="o">=</span> <span class="nx">mean</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">Sigma</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x_i</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">x_i</span> <span class="o">-</span> <span class="nx">xbar</span><span class="p">),</span> <span class="mi">2</span><span class="p">);</span> <span class="p">})</span> <span class="o">/</span> <span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Calculates the variance in a stable, online manner, from Knuth's 
implementation. Useful for calculating the variance for large 
samples where slight errors may introduce a progressively larger
error in calculating the variance. For more information, see
<a href="http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance">wikipedia</a></p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">stableVariancePop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">xbar</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">M2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span> <span class="nx">n</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
      <span class="kd">var</span> <span class="nx">delta</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">-</span> <span class="nx">xbar</span><span class="p">;</span>
      <span class="nx">xbar</span> <span class="o">=</span> <span class="nx">xbar</span> <span class="o">+</span> <span class="nx">delta</span> <span class="o">/</span> <span class="nx">n</span><span class="p">;</span>
      <span class="nx">M2</span> <span class="o">=</span> <span class="nx">M2</span> <span class="o">+</span> <span class="nx">delta</span> <span class="o">*</span> <span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">xbar</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">M2</span> <span class="o">/</span> <span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>The sample variance is calculated by multiplying the population 
variance by <code>n / (n - 1)</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">stableVariance</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">stableVariancePop</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">*</span> <span class="nx">n</span> <span class="o">/</span> <span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>The standard deviation is defined as the square root of the variance</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">stdDevPop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">variancePop</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span> <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">stdDev</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">variance</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span> <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">stableStdDev</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">stableVariance</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span> <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">stableStdDevPop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span> <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">stableVariancePop</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span> <span class="p">};</span>
  
  
  </pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <h2>Skewness &amp; Kurtosis</h2>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>These two functions are inconsistently named across applications (and 
often defined ambiguously depending on where you look).</p>

<p>Most applications such as Excel/Open Office provide you with the
'sample skewness/kurtosis' whereas programs like Mathematica provide
the 'population skewness/kurtusis'. For more information &amp; examples,
see <a href="http://www.tc3.edu/instruct/sbrown/stat/shape.htm">this</a></p>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Calculates skewness using central moments of the data provided.
This function represents biased <em>population</em> skewness, which is
 what Mathematica's skewness([]) function provides.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">skewnessPop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">m2</span> <span class="o">=</span> <span class="nx">centralMoment</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">m3</span> <span class="o">=</span> <span class="nx">centralMoment</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">g1</span> <span class="o">=</span> <span class="nx">m3</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">m2</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">g1</span><span class="p">;</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Calculates sample skewness. The unbiasing coefficient used is
taken from D.Joanes &amp; C.Gill's 1998 paper in The Statistician,
<em>Comparing measures of sample skewness and kurtosis</em>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">skewness</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">c</span>  <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">n</span> <span class="o">*</span> <span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">g1</span> <span class="o">=</span> <span class="nx">skewnessPop</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span> <span class="nx">g1</span><span class="p">);</span> 
  <span class="p">};</span>
  
  </pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>This is the biased Population Kurtosis. For a standard distribution,
the kurtosis will equal 3. The "kurtosis excess" is simply this minus 3.</p>

<p>This function returns the 'kurtosis proper'</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">kurtosisPop</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">m4</span> <span class="o">=</span> <span class="nx">centralMoment</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">m2</span> <span class="o">=</span> <span class="nx">centralMoment</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">m4</span> <span class="o">/</span> <span class="p">(</span><span class="nx">m2</span><span class="o">*</span><span class="nx">m2</span><span class="p">));</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>This is the unbiased Sample Kurtosis which is found in Excel/OO and
probably other basic stats packages.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">kurtosis</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    </pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>g_2 is the "kurtosis 'excess'" and is shifted by three because
kurtosis on a standard distribution equals three. This makes it zero.
You can learn more at
<a href="http://mathworld.wolfram.com/Kurtosis.html">Mathworld</a>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">g_2</span> <span class="o">=</span> <span class="nx">kurtosisPop</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">3</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">gp</span> <span class="o">=</span> <span class="p">((</span><span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nx">g_2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">6</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">c1</span> <span class="o">*</span> <span class="nx">gp</span><span class="p">;</span>
  <span class="p">};</span>
  
  </pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <h2>Histogram binning functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>These are not very well tested, but they will give you both bin sizes(<code>h</code>)
and a suggested number of bins(<code>k</code>) for a given sample. If you're curious 
about these functions, they're described briefly at <a href="http://en.wikipedia.org/wiki/Histogram#Number_of_bins_and_width">wikipedia</a>
They are not currently exported because they are going to be part of an
unobtrusive histogram toolkit. Please feel free to let me know if you have
any ideas or suggestions on that front. <code>marcos at generic dot cx</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  
  <span class="kd">var</span> <span class="nx">sturgesFormula</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="p">(</span><span class="nx">max</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">-</span> <span class="nx">min</span><span class="p">(</span><span class="nx">arr</span><span class="p">))</span> <span class="o">/</span> <span class="nx">k</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="o">:</span><span class="nx">h</span><span class="p">};</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">scottsChoice</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">sigma</span> <span class="o">=</span> <span class="nx">stdDev</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3.5</span> <span class="o">*</span> <span class="nx">sigma</span><span class="p">)</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">max</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">-</span> <span class="nx">min</span><span class="p">(</span><span class="nx">x</span><span class="p">))</span> <span class="o">/</span> <span class="nx">h</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="o">:</span> <span class="nx">k</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="o">:</span><span class="nx">h</span><span class="p">};</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">squareRootChoice</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="p">(</span><span class="nx">max</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">-</span> <span class="nx">min</span><span class="p">(</span><span class="nx">x</span><span class="p">))</span> <span class="o">/</span> <span class="nx">k</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="o">:</span><span class="nx">h</span><span class="p">};</span>
  <span class="p">};</span>
  
  </pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>Freedman-Diaconis' Rule is used to select a bin size based on the IQR of
a given data set.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">fdChoice</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">size</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">iqr</span> <span class="o">=</span> <span class="nx">quartiles</span><span class="p">(</span><span class="nx">arr</span><span class="p">)[</span><span class="s2">&quot;iqr&quot;</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">iqr</span><span class="p">)</span> <span class="o">/</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">max</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">-</span> <span class="nx">min</span><span class="p">(</span><span class="nx">x</span><span class="p">))</span> <span class="o">/</span> <span class="nx">h</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;k&quot;</span><span class="o">:</span><span class="nx">k</span><span class="p">,</span> <span class="s2">&quot;h&quot;</span><span class="o">:</span><span class="nx">h</span><span class="p">};</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>Exported functions</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">exported</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;min&quot;</span> <span class="o">:</span> <span class="nx">min</span><span class="p">,</span>
    <span class="s2">&quot;max&quot;</span> <span class="o">:</span> <span class="nx">max</span><span class="p">,</span>
    <span class="s2">&quot;size&quot;</span> <span class="o">:</span> <span class="nx">size</span><span class="p">,</span>
    <span class="s2">&quot;Sigma&quot;</span> <span class="o">:</span> <span class="nx">Sigma</span><span class="p">,</span>
    <span class="s2">&quot;Pi&quot;</span> <span class="o">:</span> <span class="nx">Pi</span><span class="p">,</span>
    
    <span class="s2">&quot;mean&quot;</span> <span class="o">:</span> <span class="nx">mean</span><span class="p">,</span>
    <span class="s2">&quot;meanGeo&quot;</span> <span class="o">:</span> <span class="nx">meanGeo</span><span class="p">,</span>
    <span class="s2">&quot;meanHar&quot;</span> <span class="o">:</span> <span class="nx">meanHar</span><span class="p">,</span>
    <span class="s2">&quot;median&quot;</span> <span class="o">:</span> <span class="nx">median</span><span class="p">,</span>
    <span class="s2">&quot;centralMoment&quot;</span> <span class="o">:</span> <span class="nx">centralMoment</span><span class="p">,</span>
    
    <span class="s2">&quot;quartiles&quot;</span> <span class="o">:</span> <span class="nx">quartiles</span><span class="p">,</span>
    <span class="s2">&quot;variance&quot;</span> <span class="o">:</span> <span class="nx">variance</span><span class="p">,</span>
    <span class="s2">&quot;variancePop&quot;</span> <span class="o">:</span> <span class="nx">variancePop</span><span class="p">,</span>
    <span class="s2">&quot;stableVariance&quot;</span> <span class="o">:</span> <span class="nx">stableVariance</span><span class="p">,</span>
    <span class="s2">&quot;stableVariancePop&quot;</span> <span class="o">:</span> <span class="nx">stableVariancePop</span><span class="p">,</span>
    
    <span class="s2">&quot;stdDev&quot;</span> <span class="o">:</span> <span class="nx">stdDev</span><span class="p">,</span>
    <span class="s2">&quot;stdDevPop&quot;</span> <span class="o">:</span> <span class="nx">stdDevPop</span><span class="p">,</span>
    <span class="s2">&quot;stableStdDev&quot;</span> <span class="o">:</span> <span class="nx">stableStdDev</span><span class="p">,</span>
    <span class="s2">&quot;stableStdDevPop&quot;</span> <span class="o">:</span> <span class="nx">stableStdDevPop</span><span class="p">,</span>
    
    <span class="s2">&quot;skewness&quot;</span> <span class="o">:</span> <span class="nx">skewness</span><span class="p">,</span>
    <span class="s2">&quot;skewnessPop&quot;</span> <span class="o">:</span> <span class="nx">skewnessPop</span><span class="p">,</span>
    <span class="s2">&quot;kurtosis&quot;</span> <span class="o">:</span> <span class="nx">kurtosis</span><span class="p">,</span>
    <span class="s2">&quot;kurtosisPop&quot;</span> <span class="o">:</span> <span class="nx">kurtosisPop</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <h3>OOP Instance</h3>             </td>             <td class="code">               <div class="highlight"><pre>  </pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>atoll binds all the functions together and is returned</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">atoll</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">coverup</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>the coverup is the oop instance of atoll</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="kd">var</span> <span class="nx">coverup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">_data</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span> <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">addToCoverup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">func</span><span class="p">,</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">coverup</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>turn args into array</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span> 
      <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">unshift</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">args</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_data</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">atoll</span><span class="p">,</span><span class="nx">args</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">};</span>  
  
  </pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>mixes in functions from bundle to parent</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">atoll</span><span class="p">.</span><span class="nx">mixin</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bundle</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">isFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">!!</span><span class="p">(</span><span class="nx">obj</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">call</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">apply</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">bundle</span><span class="p">){</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">bundle</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">isFunction</span><span class="p">(</span><span class="nx">bundle</span><span class="p">[</span><span class="nx">name</span><span class="p">])){</span>
        <span class="nx">addToCoverup</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">atoll</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">bundle</span><span class="p">[</span><span class="nx">name</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
  </pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>mix in exported functions</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">atoll</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="nx">exported</span><span class="p">);</span>
  
  <span class="k">return</span> <span class="nx">atoll</span><span class="p">;</span>

<span class="p">}();</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 